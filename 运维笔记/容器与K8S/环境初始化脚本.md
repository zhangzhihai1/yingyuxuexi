rocky9

```powershell
#!/bin/bash
# Rocky Linux 初始化优化脚本

set -euo pipefail  # 严格模式：遇错退出、未定义变量报错、管道错误中止
IFS=$'\n\t'

echo ">>> 切换 Rocky Linux 官方源到阿里云镜像..."
sudo sed -e 's|^mirrorlist=|#mirrorlist=|g' \
    -e 's|^#baseurl=http://dl.rockylinux.org/$contentdir|baseurl=https://mirrors.aliyun.com/rockylinux|g' \
    -i.bak \
    /etc/yum.repos.d/rocky-*.repo

echo ">>> 更新软件缓存..."
sudo dnf makecache -y

echo ">>> 安装常用工具..."
sudo dnf install -y epel-release \
    lrzsz wget vim tar coreutils tree bash-completion \
    net-tools mlocate yum-utils device-mapper-persistent-data lvm2

echo ">>> 关闭 SELinux..."
sudo sed -i 's/^SELINUX=enforcing/SELINUX=disabled/' /etc/selinux/config
sudo setenforce 0 || true  # 如果当前已是 permissive 会报错，这里忽略

echo ">>> 关闭防火墙..."
sudo systemctl disable --now firewalld
sudo systemctl mask firewalld

echo ">>> 启用 Bash 自动补全..."
if ! grep -q "bash_completion" ~/.bashrc; then
cat <<'EOF' >> ~/.bashrc
if [ -f /usr/share/bash-completion/bash_completion ]; then
    . /usr/share/bash-completion/bash_completion
fi
EOF
fi

echo ">>> 重新加载 bashrc..."
source ~/.bashrc

echo "系统初始化完成！"
```

