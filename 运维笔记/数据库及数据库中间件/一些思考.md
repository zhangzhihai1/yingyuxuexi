1.为什么配置了高可用还需要备份

| 对比项                       | 主从同步 / MHA / MGR         | 备份（xtrabackup / mysqldump + binlog） |
| ---------------------------- | ---------------------------- | --------------------------------------- |
| **作用本质**                 | 高可用、故障切换、负载均衡   | 灾难恢复、数据恢复、时间点恢复          |
| **是否可防误删误操作？**     | ❌ 无法防止，错误会同步到从库 | ✅ 可以恢复到误删前的状态                |
| **是否能恢复历史数据？**     | ❌ 不行，只保留当前状态       | ✅ 可恢复到过去任意时间点                |
| **是否占用运行数据库资源？** | ✅ 占用，尤其是从库           | ❌ 备份一般在离线环境中恢复              |
| **适合保留多长时间的数据？** | ❌ 只保留当前一份             | ✅ 可长期存档多个备份快照                |

2.恢复演练

周日完全备份，周一至周六增量备份

公有云：每天凌晨1点有定时任务，凌晨2点全量备份，恢复以全量备份+binlog恢复

第一次备份要重现，看看备份是否有效

```powershell
准备环境：测试库测试全备+增备+binlog备份恢复流程测试，测试库备份->恢复到临时库
流程写好后进行正式库恢复演练
1. 明确目标恢复时间点（误操作前）
2. 使用正式库备份（全 + 增 + binlog）恢复到临时库
3. 校验临时库数据正确性
4. 从临时库导出对应表/库
5. 导出主库误操作数据（备份用）
6. 删除主库中的误操作库/表
7. binlog 关闭，将对应表/库导入主库
8. 恢复主从同步（如有）
9. 立即做一次增备防止binlog中的误操作污染
10. 写脚本 + 写演练文档 + 告警通知 + 审计记录
```

